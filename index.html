<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Rock Paper Scissors</title>
</head>
<body>
  
  <h1>Play the classic game <i>Rock, Paper, Scissors</i> versus the computer!</h1>
  <br>
  <h2>Start a round by clicking on your chosen object below.</h2>

  <h3>The first to reach 5 points is the winner!</h3>
  <br>
  <button id="Rock">Rock</button>
  <button id="Paper">Paper</button>
  <button id="Scissors">Scissors</button>
  <br>
  <br>
  <div id="resultDisplay"></div>
  <br>
  <div id="runningScore"></div>
  <br>
  <p id="winnerAnnounce"></p>
  <div id="container"></div>

  <script>
    let playerSelection;
    let computerSelection;
    let playerScore = 0;
    let computerScore = 0;
    
    let rockButton = document.getElementById("Rock");
    rockButton.addEventListener('click', function() { playRound("Rock"); });
    let paperButton = document.getElementById("Paper");
    paperButton.addEventListener('click', function() { playRound("Paper"); });
    let scissorsButton = document.getElementById("Scissors");
    scissorsButton.addEventListener('click', function() { playRound("Scissors"); });

    /* function playerPlay() {
      option = prompt('Type below your choice of:\nRock\nPaper\nScissors');
      return option;
    } */
    
    function computerPlay() {
      let optionsArray = ['Rock', 'Paper', 'Scissors'];
      let randomOption = optionsArray[Math.floor( Math.random() * optionsArray.length )];
      return randomOption;
    }

    function playRound(buttonClicked) {
      //plays round and increments relevant Score variable if there is a winner
      document.getElementById("winnerAnnounce").innerHTML = "";
      computerSelection = computerPlay();
      playerSelection = buttonClicked;
      console.log(playerSelection, computerSelection);
      
      let result;
      // switch captures result of round and increments players'/computers' score if there's a winner
      switch (playerSelection + computerSelection) {
        case 'RockRock': 
          result = 'It is a draw! Rock meets Rock';
          break;
        case 'RockPaper':
          result = 'You lose! Paper beats Rock';
          ++computerScore;
          break;
        case 'RockScissors':
          result = 'You win! Rock beats Scissors';
          ++playerScore;
          break;
        case 'PaperRock':
          result = 'You win! Paper beats Rock';
          ++playerScore;
          break;
        case 'PaperPaper':
          result = 'It is a draw! Paper meets Paper';
          break;
        case 'PaperScissors':
          result = 'You lose! Scissors beat Paper';
          ++computerScore;
          break;
        case 'ScissorsRock':
          result = 'You lose! Rock beats Scissors';
          ++computerScore;
          break;
        case 'ScissorsPaper':
          result = 'You win! Scissors beat Paper';
          ++playerScore;
          break;
        case 'ScissorsScissors':
          result = 'It is a draw! Scissors meets Scissors';
          break;
      }

      document.getElementById("resultDisplay").innerHTML = result;
      document.getElementById("runningScore").innerHTML = 
          'The score is:<br><br>You: ' + playerScore + '<br>' + '\nComputer: ' + computerScore;
      
      if (playerScore === 5) {
        document.getElementById("winnerAnnounce").innerHTML = 
            "<h3>You are the first to reach 5 points! You win the game! Congratulations!</h3><br> Click the <b>Reset</b> button below to start a new game.";
        playerScore = 0;
        computerScore = 0;
        addResetBtn();
      } else if (computerScore === 5) {
          document.getElementById("winnerAnnounce").innerHTML = 
              "<h3>The computer is the first to reach 5 points! Sorry, you lost the game.</h3><br> Click the <b>Reset</b> button below to start a new game.";
          playerScore = 0;
          computerScore = 0;
          addResetBtn();
      }
      
      //return result;
    }

    function addResetBtn() {
      let btn = document.createElement("button");
      let btnTxt = document.createTextNode("Reset");
      btn.appendChild(btnTxt);
      let att = document.createAttribute("id");
      att.value = "resetBtn";
      btn.setAttributeNode(att);
      document.getElementById("container").appendChild(btn);
    }
    // below is a redundant function named 'game' from an earlier stage version of this program which used console.log and prompt windows to work.
    /* function game() {
      //Round 1:
      console.log ( playRound() );
      console.log ('The score after Round 1 is:\nYou: ' + playerScore + '\nComputer: ' + computerScore);
      
      //Round 2:
      console.log ( playRound() );
      console.log ('The score after Round 2 is:\nYou: ' + playerScore + '\nComputer: ' + computerScore);
      
      //Round 3:
      console.log ( playRound() );
      console.log ('The score after Round 3 is:\nYou: ' + playerScore + '\nComputer: ' + computerScore);

      //Round 4:
      console.log ( playRound() );
      console.log ('The score after Round 4 is:\nYou: ' + playerScore + '\nComputer: ' + computerScore);

      //Round 5:
      console.log ( playRound() );
      console.log ('The final score after 5 rounds is:\nYou: ' + playerScore + '\nComputer: ' + computerScore);
      
      if (playerScore > computerScore) {
        console.log('You won the game! Congratulations!');
      } else if (computerScore > playerScore) {
        console.log('You lost the game :( Better luck next time!');
      } else {
        console.log('The game is drawn! What are the odds!');
      }

    } */


    //console.log( game() );
  </script>
</body>
</html>